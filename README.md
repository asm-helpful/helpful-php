# helpful-php

Official Helpful API library client for PHP

__This library is generated by [alpaca](https://github.com/pksunkara/alpaca)__

## Installation

Make sure you have [composer](https://getcomposer.org) installed.

Add the following to your composer.json

```js
{
    "require": {
        "helpful/helpful": "*"
    }
}
```

Update your dependencies

```bash
$ php composer.phar update
```

> This package follows the `PSR-0` convention names for its classes, which means you can easily integrate these classes loading in your own autoloader.

#### Versions

Works with [ 5.4 / 5.5 ]

## Usage

```php
<?php

// This file is generated by Composer
require_once 'vendor/autoload.php';

// Then we instantiate a client (as shown below)
```

### Build a client

__Using this api without authentication gives an error__

##### Basic authentication

```php
$auth = array('username' => 'pksunkara', 'password' => 'password');

$client = new Helpful\Client($auth, $clientOptions);
```

##### Oauth access token

```php
$client = new Helpful\Client('1a2b3', $clientOptions);
```

##### Oauth client secret

```php
$auth = array('client_id' => '09a8b7', 'client_secret' => '1a2b3');

$client = new Helpful\Client($auth, $clientOptions);
```

### Client Options

The following options are available while instantiating a client:

 * __base__: Base url for the api
 * __api_version__: Default version of the api (to be used in url)
 * __user_agent__: Default user-agent for all requests
 * __headers__: Default headers for all requests
 * __request_type__: Default format of the request body

### Response information

__All the callbacks provided to an api call will receive the response as shown below__

```php
$response = $client->klass('args')->method('args', $methodOptions);

$response->code;
// >>> 200

$response->headers;
// >>> array('x-server' => 'apache')
```

##### JSON response

When the response sent by server is __json__, it is decoded into an array

```php
$response->body;
// >>> array('user' => 'pksunkara')
```

### Method Options

The following options are available while calling a method of an api:

 * __api_version__: Version of the api (to be used in url)
 * __headers__: Headers for the request
 * __query__: Query parameters for the url
 * __body__: Body of the request
 * __request_type__: Format of the request body

### Request body information

Set __request_type__ in options to modify the body accordingly

##### RAW request

When the value is set to __raw__, don't modify the body at all.

```php
$body = 'username=pksunkara';
// >>> 'username=pksunkara'
```

##### JSON request

When the value is set to __json__, JSON encode the body.

```php
$body = array('user' => 'pksunkara');
// >>> '{"user": "pksunkara"}'
```

### Accounts api

These are like organizations which use Helpful.

```php
$accounts = $client->accounts();
```

##### List all accounts (GET /accounts)

All the accounts the user has access to

```php
$response = $accounts->list($options);
```

##### Retrieve an account (GET /accounts/:account_id)

Get an account the user has access to

The following arguments are required:

 * __account_id__: Identifier of the account

```php
$response = $accounts->get("b3ebe711-755e-4a91-b8d2-0cc028827bcf", $options);
```

##### Update an account (PATCH /accounts/:account_id)

Update an account the user has access to

The following arguments are required:

 * __account_id__: Identifier of the account

```php
$response = $accounts->update("b3ebe711-755e-4a91-b8d2-0cc028827bcf", $options);
```

### People api

People who operate or interacted with the account

```php
$people = $client->people();
```

##### List all people (GET /accounts/:account_id/people)

List all people in the account the user has access to

The following arguments are required:

 * __account_id__: Identifier of the account

```php
$response = $people->list("b3ebe711-755e-4a91-b8d2-0cc028827bcf", $options);
```

### Conversations api

Conversations in an account

```php
$conversations = $client->conversations();
```

##### List all conversations (GET /accounts/:account_id/conversations)

List all conversations in an account the user has access to

The following arguments are required:

 * __account_id__: Identifier of the account

```php
$response = $conversations->list("b3ebe711-755e-4a91-b8d2-0cc028827bcf", "false", $options);
```

##### Create a conversation (POST /accounts/:account_id/conversations)

Create an empty conversation in account the user has access to

The following arguments are required:

 * __account_id__: Identifier of the account

```php
$response = $conversations->create("b3ebe711-755e-4a91-b8d2-0cc028827bcf", $options);
```

##### Retrieve a conversation (GET /conversations/:conversation_id)

Get a conversation the user has access to

The following arguments are required:

 * __conversation_id__: Identifier of the conversation

```php
$response = $conversations->get("10ce24de-23f6-433f-9a71-255cffffa96f", $options);
```

### Messages api

Messages in a conversation

```php
$messages = $client->messages();
```

##### Retrieve a message (GET /messages/:message_id)

Get a message the user has access to

The following arguments are required:

 * __message_id__: Identifier of the message

```php
$response = $messages->get("33314e4e-baf5-4b33-be72-112ed86701fd", $options);
```

## Contributors
Here is a list of [Contributors](https://github.com/asm-helpful/helpful-php/contributors)

### TODO

## License
MIT

## Bug Reports
Report [here](https://github.com/asm-helpful/helpful-php/issues).

## Contact
Pavan Kumar Sunkara (pavan.sss1991@gmail.com)
